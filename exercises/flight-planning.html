<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
<title>Flight Planning &laquo;  Programming Praxis</title>
</head>
<body>
<div class="entrytitle">
<h2>Flight&nbsp;Planning</h2>
<h3>January 19, 2010</h3>
</div>
<div class="entrybody">
<p><img src="http://programmingpraxis.files.wordpress.com/2010/01/navigationtriangle.jpg?w=640" align="right" />[ <em>We studied methods of computing sines in a previous <a href="/2010/01/12/calculating-sines/">exercise</a>.  In today's exercise, guest author <a href="mailto://jos.koot@telefonica.net">Jos Koot</a>, a retired physicist, amateur pilot, and Scheme enthusiast, gives us an example of the use of sines.  Feel free to <a href="mailto://programmingpraxis@gmail.com">contact me</a> if you have an idea for an exercise, or if you wish to contribute your own exercise.  Jos writes this disclaimer:  Do not use the example program for real life flight planning. It may not be fool proof!!! Use more appropriate equipment and procedures after studying aeronautics more profoundly. I do not accept any claims. There is a lot more to flying than presented in this exercise.</em> ]</p>
<p>When preparing to fly, a pilot must know:</p>
<ul>
<li>The direction and distance from the airfield of departure to the airfield of destination. This direction is called the ground track (GT).</li>
<li>The name (WN) and speed (WS) of the wind. The name is the direction <strong>from</strong> which the wind blows and is measured in degrees clockwise from north. The direction proper (WD) is opposite to that of the name.</li>
<li>The air speed of the plane (AS) This is the speed of the airplane relative to the moving air.</li>
</ul>
<p>Directions are measured in degrees clockwise from geographic north, 360 degrees on the compass-card. You may measure distances and times in any unit you like. Speeds should be in unit of distance per unit of time, of course. We take the air speed as a given datum and we ignore time needed for climbing and descending. Because the plane may be drifted by the wind, the pilot must calculate which direction to head for in order to compensate the drift. For this purpose the pilot may draw a triangle whose sides are speeds:</p>
<ul>
<li>Ground track. This side is to be drawn in the direction from takeoff to destination but with unknown speed. This still unknown speed is called the ground speed (GS).</li>
<li>Drift caused by the wind. Both direction and speed are known thanks to meteorologists. The drift points in the direction the wind blows to and is opposite to that of the name of the wind. For example, wind from east causes drift to west.</li>
<li>True heading (HT). This is the direction the pilot must choose in order to compensate for the drift. The direction is unknown, but the speed is: it is the air speed, also called the cruise speed.</li>
</ul>
<p>It is instructive first to draw some navigation triangles by means of a pair of compasses and a ruler. The air speed is significantly greater than the wind speed, of course. First draw a line in the direction of the ground track. On this line choose a point B. Draw the drift ending in point B. Now we have point C. Draw a circle with point C for its centre and the air speed for its radius. The circle has two points of intersection with the ground track. One of the intersection points is A. Point A and the other point of intersection correspond to the two roots of the quadratic equation. Because the ground speed is directed from point A to point B it is not difficult to see which point of intersection is the right one. Now the vector equation AB = AC + CB is satisfied.</p>
<p>The known data are: ground track GT, distance (D) from departure to destination, wind name WN, wind velocity WS and the air speed AS. The air speed is significantly greater than the velocity of the wind, of course. From these data we want to compute: true heading TH, ground speed GS and time of the flight (FT=D/GS).</p>
<p>One <a href="http://www.stevenhale.co.uk/main/rotorcraft/triangleofvelocities">solution</a> uses the law of sines, which states that the ratio of the length of a side to the sine of the opposite angle is the same for all three sides of any triangle.  We have <img src="http://s0.wp.com/latex.php?latex=%5Cfrac%7BAS%7D%7B%5Csin%5C+B%7D+%3D+%5Cfrac%7BWS%7D%7B%5Csin%5C+A%7D+%3D+%5Cfrac%7BGS%7D%7B%5Csin%5C+C%7D&amp;bg=ffffff&amp;fg=555555&amp;s=0" alt="\frac{AS}{\sin\ B} = \frac{WS}{\sin\ A} = \frac{GS}{\sin\ C}" title="\frac{AS}{\sin\ B} = \frac{WS}{\sin\ A} = \frac{GS}{\sin\ C}" class="latex" />, hence <img src="http://s0.wp.com/latex.php?latex=TH+%3D+GT+%2B+A+%3D+GT+%2B+%5Csin%5E%7B-1%7D%28%5Cfrac%7BWS+%5Csin%5C+B%7D%7BAS%7D%29&amp;bg=ffffff&amp;fg=555555&amp;s=0" alt="TH = GT + A = GT + \sin^{-1}(\frac{WS \sin\ B}{AS})" title="TH = GT + A = GT + \sin^{-1}(\frac{WS \sin\ B}{AS})" class="latex" />.  The ground speed can be calculated as <img src="http://s0.wp.com/latex.php?latex=GS+%3D+AS+%5Ccos%28TH+-+GT%29+%2B+WS+%5Ccos%5C+B&amp;bg=ffffff&amp;fg=555555&amp;s=0" alt="GS = AS \cos(TH - GT) + WS \cos\ B" title="GS = AS \cos(TH - GT) + WS \cos\ B" class="latex" />.</p>
<p>Another solution uses the cosine rule <em>c</em>&sup2; = <em>a</em>&sup2; + <em>b</em>&sup2; &#8211; 2<em>ab</em> cos(&theta;) to compute the third side of a triangle when two sides and the included angle are known, a quadratic equation is obtained. Solving this equation for the unknown ground speed, we have <img src="http://s0.wp.com/latex.php?latex=GS+%3D+WS+%5Ccos%5C+B+%5Cpm+%5Csqrt%7BWS%5E2+%5Ccos%5E2+B+-+WS%5E2+%2B+AS%5E2%7D&amp;bg=ffffff&amp;fg=555555&amp;s=0" alt="GS = WS \cos\ B \pm \sqrt{WS^2 \cos^2 B - WS^2 + AS^2}" title="GS = WS \cos\ B \pm \sqrt{WS^2 \cos^2 B - WS^2 + AS^2}" class="latex" />. Because we want a positive ground speed, take the root with the plus sign. Finally use the cosine rule again in order to compute the angle of correction (angle A), which is the angle between the ground track and the required true heading: <img src="http://s0.wp.com/latex.php?latex=A+%3D+%5Ccos%5E%7B-1%7D+%5Cfrac%7BAS%5E2+%2B+GS%5E2+-+WS%5E2%7D%7B2+GS+AS%7D&amp;bg=ffffff&amp;fg=555555&amp;s=0" alt="A = \cos^{-1} \frac{AS^2 + GS^2 - WS^2}{2 GS AS}" title="A = \cos^{-1} \frac{AS^2 + GS^2 - WS^2}{2 GS AS}" class="latex" />, so the true heading is <img src="http://s0.wp.com/latex.php?latex=TH+%3D+GT+%5Cpm+A&amp;bg=ffffff&amp;fg=555555&amp;s=0" alt="TH = GT \pm A" title="TH = GT \pm A" class="latex" />.  This angle must be added or subtracted from the direction of the ground track depending on which side the wind drifts the plane.</p>
<p>Your task is to write two functions, as above, that take a distance, ground track, wind speed and direction, and air speed and computes the true heading, ground speed, correction and duration of flight.  When you are finished, you are welcome to <a href="/2010/01/19/flight-planning/2/">read</a> or <a href="http://programmingpraxis.codepad.org/yE35J5Pw">run</a> a suggested solution, or to post your own solution or discuss the exercise in the comments below.</p>
</div>
</body>
</html>
