<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
<title>Calculating Pi &laquo;  Programming Praxis</title>
</head>
<body>
<div class="entrytitle">
<h2>Calculating&nbsp;Pi</h2>
<h3>October 9, 2009</h3>
</div>
<div class="entrybody">
<p><img src="http://upload.wikimedia.org/wikipedia/commons/b/ba/Monte-Carlo01.gif" alt="By Jirah under a Creative Commons 3.0 Attribution  Share-Alike license" align="right" width="265" height="265" /> Pi, or &pi;, is a mathematical constant with a value that is the ratio of a circle&#8217;s circumference to its diameter.  It has been known since antiquity that the ratio of the circumference of a circle to its diameter is the same for all circles; the ancient Egyptians, Indians, and Babylonians had all calculated approximations for &pi; about two millenia before the birth of Christ.  &pi;, which is approximately equal to 3.14159, is one of the most important constants in math, science and engineering; it pops up regularly in studies of geometry, trigonometry and calculus, Einstein used &pi; in his field equation of general relativity, and it appears in many statistical distributions.  In a previous <a href="/2009/02/20/the-digits-of-pi/">exercise</a> we used a spigot algorithm to calculate the digits of &pi;; our exercise today will use two different methods to calculate the value of &pi;.</p>
<p>An interesting method for calculating &pi; uses Monte Carlo simulation.  If a circle of radius <em>r</em> is inscribed in a square with sides of length 2<em>r</em>, the area of the circle will be &pi;<em>r</em><sup>2</sup> and the area of the square will be (2<em>r</em>)<sup>2</sup>, so the ratio of the area of the circle to the area of the square will be &pi;/4.  Another way of looking at this, as on the diagram, is to consider just the first quadrant of the circle; the square has an area of <em>r</em> <sup>2</sup>, and the portion of the circle within the square has an area of &pi;<em>r</em><sup>2</sup>/4.</p>
<p>By taking a large number of points randomly distributed throughout the square and counting how many are within the inscribed circle, we can estimate the value of &pi;. We could do that by building a model, scattering sand over it, and counting the individual grains of sand, but since we are programmers, it is easier to write a program to do the counting for us.</p>
<p>Your first task is to implement a program to calculate the value of &pi; using the Monte Carlo method described above.</p>
<p>The second method is due to Archimedes (287&ndash;212 BC), a Greek mathematician who lived in Syracuse, who famously bounded the value of &pi; within a small range by measuring the perimeters of inscribed and circumscribed regular polygons with ninety-six sides: 223/71 &lt; &pi; &lt; 22/7.</p>
<p><img src="http://programmingpraxis.files.wordpress.com/2009/09/bounding-pi.jpeg?w=640" align="right" alt="from  www.gap-system.org/~history/HistTopics/Pi_through_the_ages.html" /> Consider a circle with radius 1 and circumference 2&pi; in which regular polygons of 3 &times; 2<sup><em>n</em>-1</sup> sides are inscribed and circumscribed; the diagram for <em>n</em> = 2 is shown at right.  If <em>b<sub>n</sub></em> is the semiperimeter of the inscribed polygon, and <em>a<sub>n</sub></em> is the semiperimeter of the circumscribed polygon, then as <em>n</em> increases, <em>b</em><sub>1</sub>, <em>b</em><sub>2</sub>, <em>b</em><sub>3</sub>, &hellip; defines an increasing sequence, and <em>a</em><sub>1</sub>, <em>a</em><sub>2</sub>, <em>a</em><sub>3</sub>, &hellip; defines a decreasing sequence, each with limit &pi;.</p>
<p>Given <em>K</em> = 3 &times; 2<sup><em>n</em>-1</sup>, the semiperimeters are <em>a<sub>n</sub></em> = <em>K</em> tan(&pi;/<em>K</em>) and <em>b<sub>n</sub></em> =  <em>K</em> sin(&pi;/<em>K</em>) by the definitions of sine and tangent.  Likewise, <em>a</em><sub><em>n</em>+1</sub> = 2<em>K</em> tan(&pi;/2<em>K</em>) and <em>a</em> <sub><em>n</em>+1</sub> = 2<em>K</em> sin(&pi;/2<em>K</em>).</p>
<p>Then, simple trigonometry allows us to calculate (1/<em>a<sub>n</sub></em> + 1/<em>b<sub>n</sub></em>) = 2/<em>a</em><sub><em>n</em>+1</sub> and <em>a</em><sub><em>n</em>+1</sub><em>b<sub>n</sub></em> = (<em>b</em><sub><em>n</em>+1</sub>)<sup>2</sup>. Archimedes started with <em>a</em><sub>1</sub> = 3 tan(&pi;/3) = 3&radic;3 and <em>b</em><sub>1</sub> = 3 sin(&pi;/3) = 3&radic;3/2 and calculated <em>b</em><sub>6</sub>  &lt; &pi; &lt; <em>a</em><sub>6</sub>.</p>
<p>Archimedes, of course, didn&#8217;t have trigonometry available to him, as it hadn&#8217;t been invented yet; he had to work out the geometry directly, as well as making all the calculations by hand!</p>
<p>Your second task is to write a function that calculates the bounds of &pi; using Archimedes&#8217; algorithm.  You can test your function for <em>n</em> = 6, as Archimedes did.  When you are finished, you are welcome to <a href="/2009/10/09/calculating-pi/2">read</a> or <a href="http://programmingpraxis.codepad.org/3LMdEHBZ">run</a> a suggested solution, or to post your solution or discuss the exercise in the comments below.</p>
</div>
</body>
</html>
