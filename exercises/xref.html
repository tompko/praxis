<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
<title>Xref &laquo;  Programming Praxis</title>
</head>
<body>
<div class="entrytitle">
<h2>Xref</h2>
<h3>April 22, 2011</h3>
</div>
<div class="entrybody">
<p>In the old days, when programs were written on punch cards or paper tape and editors didn&#8217;t provide regular-expression searches, most compilers provided a cross-reference utility that showed each use of each identifier in the program.  You don&#8217;t often see cross-referencers any more, and that&#8217;s too bad, because a cross-referencer can provide good clues about the structure of a program; looking at a cross-reference listing can be a good way to start examining an unfamiliar program.  Here&#8217;s some sample output from a Scheme cross-referencer, with the identifier as the first word on each line followed by a list of line numbers where the identifier appears:</p>
<p><code>0 28<br />
1 18<br />
&lt; 27<br />
= 30<br />
?!.+-*&#047;&lt;=&gt;:$%^&amp;_~@ 5<br />
a 24 25 26 27<br />
add1 20<br />
and 26 30<br />
b 24 25 26 27<br />
c 3 4 5 8 9 10 13<br />
caar 30 32 36 37<br />
car 25 26<br />
cdar 30 33 34 36 37<br />
cdr 27 31 34 37<br />
char-alphabetic? 4<br />
char-in-ident? 3 10<br />
char-numeric? 4<br />
char=? 13<br />
cond 9 19 29<br />
cons 11 21<br />
cs 8 9 11 12 14<br />
define 3 7 16 23 24<br />
display 33 36<br />
else 14 21 35<br />
eof-object? 9 19<br />
file 16 17<br />
get-ident 7 18 20 21<br />
identifiers 3<br />
if 9<br />
lambda 17<br />
let 8 11 18 28<br />
line 18 20 21<br />
list-&gt;string 9 12<br />
loop 8 11 14 18 20 21 28 31 34 37<br />
lt? 24 28<br />
member 5<br />
newline 13 29 35<br />
not 35<br />
null? 9 29<br />
or 4 25<br />
pair? 12<br />
peek-char 8 11 14<br />
prev-line 28 30 31<br />
prev-word 28 30 31 32 34 35<br />
read-char 11 13 14<br />
reverse 9 12<br />
scheme 3<br />
sort 28<br />
string-&gt;list 5<br />
string&lt;? 25<br />
string=? 20 26 30 32 35<br />
w 18 19 20 21<br />
when 35<br />
with-input-from-file 17<br />
ws 18 19 20 21 23 28 29 30 31 32 33 34 36 37<br />
x 11<br />
xref 1 16<br />
xref-out 19 23</code></p>
<p>A quick look suggests that this program reads a text file (<code>with-input-from-file</code>, <code>read-char</code>, <code>eof-object?</code>) and does some kind of processing on its characters (<code>char-alphabetic?</code>, <code>char-numeric?</code>).  There is some list-handling (<code>car</code>, <code>cdr</code>, <code>string-&gt;list</code>), <code>loop</code> is used conventionally, and <code>ws</code> seems to be some kind of key to understanding what the program does.  And there is an unholy mess on line 5.</p>
<p>Your task is to write a cross-referencer for your chosen language.  When you are finished, you are welcome to <a href="/2011/04/22/xref/2/">read</a> or <a href="http://programmingpraxis.codepad.org/h4D8umzr">run</a> a suggested solution, or to post your own solution or discuss the exercise in the comments below.</p>
<div id="wpcom_below_post" class="wpadvert" style="text-align: center; padding: 5px; background: #; padding: 5px; margin: 10px auto; width: 310px;">
<!-- <span style="text-align: left; letter-spacing: 1px; font: 8px/1em Verdana, sans-serif; color: #ccc; text-transform: uppercase; display: block; padding: 0 1px;">Advertisement</span> -->
<script type="text/javascript">
LD_AddCustomAttr("AdOpt", "1");
LD_AddCustomAttr("Origin", "other");
LD_AddCustomAttr("theme_bg", "ffffff"); 
LD_AddCustomAttr("theme_text", "555555"); 
LD_AddCustomAttr("theme_link", "557799"); 
LD_AddCustomAttr("theme_border", "C8A799"); 
LD_AddCustomAttr("theme_url", "8FB1D3"); 
LD_AddCustomAttr("LangId", "1");
LD_AddCustomAttr("Autotag", "technology");
LD_AddCustomAttr("Autotag", "business");
LD_AddCustomAttr("Tag", "exercises");

LD_AddSlot("wpcom_below_post");
LD_GetBids();
</script>
</div><div class="sharedaddy sd-like-enabled"><div id="wpl-likebox" class="sd-block sd-like"><h3 class="sd-title">Like this:</h3><div class="sd-content"><div id="wpl-button"><a href="http://programmingpraxis.com/2011/04/22/xref/?like=1&amp;_wpnonce=a72c2c6ab5" title="I like this post" class="like needs-login sd-button" rel="nofollow"><span>Like</span></a></div><div id="wpl-count" class="sd-like-count">Be the first to like this post.</div></div></div></div> <p>Pages: 1 <a href="http://programmingpraxis.com/2011/04/22/xref/2/">2</a></p> </div></div>
</body>
</html>
