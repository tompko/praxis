<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
<title>Rowland&#8217;s Prime-Generating Function &laquo;  Programming Praxis</title>
</head>
<body>
<div class="entrytitle">
<h2>Rowland&#8217;s Prime-Generating&nbsp;Function</h2>
<h3>November 12, 2010</h3>
</div>
<div class="entrybody">
<p>Regular readers of Programming Praxis know of my affinity for prime numbers.  Today&#8217;s exercise is based on a prime-generating sequence <a href="http://arxiv.org/PS_cache/arxiv/pdf/0710/0710.3217v3.pdf">described</a> by Eric Rowland.  Consider the sequence <em>a</em><sub>1</sub> = 7, <em>a<sub>n</sub></em> = <em>a</em><sub><em>n</em>-1</sub> + gcd(<em>n</em>, <em>a</em><sub><em>n</em>-1</sub>): 7, 8, 9, 10, 15, 18, 19, 20, 21, 22, 33, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 69, 72, 73.  Taking the differences between successive elements of the sequence gives a second sequence 1, 1, 1, 5, 3, 1, 1, 1, 1, 11, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 23, 3, 1.  All the elements of that sequence are either 1 or prime.  Eliminating the 1s gives a third sequence of primes that begins 5, 3, 11, 3, 23, 3, 47, 3, 5, 3, 101, 3, 7, 11, 3, 13, 233, 3, 467, 3, 5, 3, 941, 3.  Rowland has proved that all elements of the sequence are either 1 or prime; it is conjectured but not proven that all the odd primes appear in the sequence.</p>
<p>It is possible to shortcut the sequence by omitting the 1s, since the number of 1s at any point can be pre-computed.  If we have a least-prime-divisor function lpd, then Vladimir Shevelev describes the sequence as <em>a</em><sub>1</sub> = lpd(6-1) = 5, <em>a</em><sub>2</sub> = lpd(6-2+5) = 3, <em>a</em><sub>3</sub> = lpd(6-3+5+3) = 11, <em>a</em><sub>4</sub> = lpd(6-4+5+3+11) = 3, <em>a</em><sub>5</sub> = lpd(6-5+5+3+11+3) = 23, &hellip;, and <em>a<sub>n</sub></em> = lpd(6 &#8211; <em>n</em> + sum(<em>a</em><sub>1</sub> &hellip; <em>a</em><sub><em>n</em>-1</sub>).</p>
<p>Your task is to write functions that generate the three sequences, including the shortcut.  When you are finished, you are welcome to <a href="/2010/11/12/rowlands-prime-generating-function/2/">read</a> or <a href="http://programmingpraxis.codepad.org/PEOYTmve">run</a> a suggested solution, or to post your own solution or discuss the exercise in the comments below.</p>
<div id="wpcom_below_post" class="wpadvert" style="text-align: center; padding: 5px; background: #; padding: 5px; margin: 10px auto; width: 310px;">
<!-- <span style="text-align: left; letter-spacing: 1px; font: 8px/1em Verdana, sans-serif; color: #ccc; text-transform: uppercase; display: block; padding: 0 1px;">Advertisement</span> -->
<script type="text/javascript">
LD_AddCustomAttr("AdOpt", "1");
LD_AddCustomAttr("Origin", "other");
LD_AddCustomAttr("theme_bg", "ffffff"); 
LD_AddCustomAttr("theme_text", "555555"); 
LD_AddCustomAttr("theme_link", "557799"); 
LD_AddCustomAttr("theme_border", "C8A799"); 
LD_AddCustomAttr("theme_url", "8FB1D3"); 
LD_AddCustomAttr("LangId", "1");
LD_AddCustomAttr("Autotag", "technology");
LD_AddCustomAttr("Tag", "exercises");

LD_AddSlot("wpcom_below_post");
LD_GetBids();
</script>
</div><div class="sharedaddy sd-like-enabled"><div id="wpl-likebox" class="sd-block sd-like"><h3 class="sd-title">Like this:</h3><div class="sd-content"><div id="wpl-button"><a href="http://programmingpraxis.com/2010/11/12/rowlands-prime-generating-function/?like=1&amp;_wpnonce=a72c2c6ab5" title="I like this post" class="like needs-login sd-button" rel="nofollow"><span>Like</span></a></div><div id="wpl-count" class="sd-like-count">Be the first to like this post.</div></div></div></div> <p>Pages: 1 <a href="http://programmingpraxis.com/2010/11/12/rowlands-prime-generating-function/2/">2</a></p> </div></div>
</body>
</html>
