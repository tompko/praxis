<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
<title>Marriage Sort &laquo;  Programming Praxis</title>
</head>
<body>
<div class="entrytitle">
<h2>Marriage&nbsp;Sort</h2>
<h3>August 20, 2010</h3>
</div>
<div class="entrybody">
<p>Today&#8217;s exercise is about a relatively new sorting algorithm.  We start with an <a href="http://www.mathpages.com/home/kmath018/kmath018.htm">article</a> <em>Optimizing Your Wife</em> by Kevin Brown, which proposes that the best way for a man to find a wife is to decide how many women he is willing to date before he chooses a wife, we&#8217;ll call that <em>N</em>, determine which of the first &radic;<em>N</em> women is &#8220;best,&#8221; according to whatever matters to him, and then choose the next woman after the first &radic;<em>N</em> that is better than any of the first &radic;<em>N</em> women.  For instance, to find the marriageable woman in a batch of a hundred, date ten of them, then marry the next one that is better than any of those ten.  You may not find the optimal woman, but you&#8217;ll be close.</p>
<p>Eric Burnett turned Brown&#8217;s idea into a <a href="http://www.thelowlyprogrammer.com/2010/04/introducing-marriage-sort.html">sorting algorithm</a>.  First, sample the first &radic;<em>N</em> values at the beginning of an array, then swap any of the remaining values that are better than the greatest value of the sample to the end of the array, swap the greatest value of the sample just before those at the end, then recur on the smaller array before those greatest values.  Finish the sort by performing insertion sort on the entire array; that will be quick, since most values are near their final positions.</p>
<p>Burnett&#8217;s algorithm requires three pointers: the current location of the end of the sample, the current location of the end of the array still under consideration, and a pointer that sweeps through the array.  The time complexity is <em>O</em>(<em>n</em><sup>1.5</sup>), which is similar to other sorting methods like <a href="/2009/10/30/two-sub-quadratic-sorts/">shell sort and comb sort</a> that have a first stage that nearly sorts the input followed by insertion sort to clean up the rest.</p>
<p>Your task is to write a function that sorts an array using marriage sort.  When you are finished, you are welcome to <a href="/2010/08/20/marriage-sort/2/">read</a> or <a href="http://programmingpraxis.codepad.org/4Sldvq9Q">run</a> a suggested solution, or to post your own solution or discuss the exercise in the comments below.</p>
<div id="wpcom_below_post" class="wpadvert" style="text-align: center; padding: 5px; background: #; padding: 5px; margin: 10px auto; width: 310px;">
<!-- <span style="text-align: left; letter-spacing: 1px; font: 8px/1em Verdana, sans-serif; color: #ccc; text-transform: uppercase; display: block; padding: 0 1px;">Advertisement</span> -->
<script type="text/javascript">
LD_AddCustomAttr("AdOpt", "1");
LD_AddCustomAttr("Origin", "other");
LD_AddCustomAttr("theme_bg", "ffffff"); 
LD_AddCustomAttr("theme_text", "555555"); 
LD_AddCustomAttr("theme_link", "557799"); 
LD_AddCustomAttr("theme_border", "C8A799"); 
LD_AddCustomAttr("theme_url", "8FB1D3"); 
LD_AddCustomAttr("LangId", "1");
LD_AddCustomAttr("Autotag", "technology");
LD_AddCustomAttr("Autotag", "science");
LD_AddCustomAttr("Autotag", "entertainment");
LD_AddCustomAttr("Tag", "exercises");

LD_AddSlot("wpcom_below_post");
LD_GetBids();
</script>
</div><div class="sharedaddy sd-like-enabled"><div id="wpl-likebox" class="sd-block sd-like"><h3 class="sd-title">Like this:</h3><div class="sd-content"><div id="wpl-button"><a href="http://programmingpraxis.com/2010/08/20/marriage-sort/?like=1&amp;_wpnonce=a72c2c6ab5" title="I like this post" class="like needs-login sd-button" rel="nofollow"><span>Like</span></a></div><div id="wpl-count" class="sd-like-count">Be the first to like this post.</div></div></div></div> <p>Pages: 1 <a href="http://programmingpraxis.com/2010/08/20/marriage-sort/2/">2</a></p> </div></div>
</body>
</html>
