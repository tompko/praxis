<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
<title>Word Hy-phen-a-tion By Com-pu-ter &laquo;  Programming Praxis</title>
</head>
<body>
<div class="entrytitle">
<h2>Word Hy-phen-a-tion By&nbsp;Com-pu-ter</h2>
<h3>April 24, 2009</h3>
</div>
<div class="entrybody">
<p>In 1982, Frank Liang published in his doctoral dissertation a description of the hyphenation algorithm that he invented for Donald Knuth&#8217;s TeX typesetting program; his algorithm is the basis of most of the hyphenation programs used today.  Liang&#8217;s algorithm is described in Appendix H of The TeXbook by Knuth.  Liang&#8217;s algorithm never inserts a hyphen where one does not belong, but does miss some opportunities to insert hyphens where they do belong; Liang claims to find 95% of the hyphens in most texts.  Liang&#8217;s algorithm is quick, and reasonably stingy with space.</p>
<p>Liang&#8217;s method works by pre-computing a list of hyphenating and inhibiting patterns based on a given hyphenation dictionary.  First, a list of hyphenating patterns is established; for instance, <code>-tion</code> and <code>c-c</code> are good hyphenating patterns.  But all the patterns have exceptions; for instance, the <code>-tion</code> pattern improperly hyphenates the word <code>cat-ion</code>.  Thus, a set of inhibiting patterns prevents hypenations; in this case, the inhibition pattern <code>.ca=t</code> (the dot indicates the beginning or end of a word, the equal-sign inhibits a hyphen) overrides the hyphenation pattern and prevents the hyphen at <code>ca-tion</code>.  Of course, there are exceptions to the inhibition patterns; Liang&#8217;s algorithm goes five levels deep &#8212; hyphenation, inhibition, hyphenation, inhibition, hyphenation &#8212; to get a good set of patterns, and even then requires an exception listing to fix a few words that would otherwise be hyphenated incorrectly.  It is also required that a word must have a least five letters to be hyphenated, no hyphens can be inserted after the first letter or before the last letter of a word, and any word that includes non-alphabetic characters is never hyphenated.</p>
<p>Consider this example of hyphenating the word hyphenation: there are two hyphenating patterns <code>1na</code> and <code>1tio</code>, then three inhibiting patterns <code>n2at</code>, <code>2io</code>, and <code>he2n</code>, then another hyphenating pattern <code>hy3ph</code>, another inhibiting pattern <code>hena4</code>, and finally another hyphenating pattern <code>hen5at</code>:</p>
<p><code>. h y p h e n a t i o n .<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1n a<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1t i o<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n2a t<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2i o<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h e2n<br />
&nbsp;&nbsp;h y3p h<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h e n a4<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h e n5a t<br />
.0h0y3p0h0e2n5a4t2i0o0n0.<br />
&nbsp;&nbsp;h y-p h e n-a t i o n</code></p>
<p>After all the patterns present in the word are identified, the highest number at any inter-letter position wins (we&#8217;ll call that number a <em>rule</em>), and hyphens are inserted at all the odd-numbered rules.  In this case, the <code>1na</code> pattern originally placed a hyphen at <code>hyphe-nation</code>, but the <code>he2n</code> pattern inhibited the hyphen, because rule 2 trumps rule 1; likewise, <code>hena4</code> inhibited <code>1tio</code>.  Note that three patterns start at the fourth letter of hyphenation: <code>he2n</code>, <code>hena4</code>, and <code>hen5at</code>.</p>
<p>Liang&#8217;s hyphenation algorithm iterates through the letters of the input word, identifying all the patterns that are present in the word, and takes the maximum rule at each position.  The task of identifying the patterns calls for some sort of search algorithm; Liang used a trie that he cleverly packed into an array.</p>
<p>Finally, Liang&#8217;s dissertation described a program <em>patgen</em> for pre-computing the hyphenating and inhibiting rules, for English or any other language, given a hyphenating dictionary.  See his <a href="http://www.tug.org/docs/liang/">dissertation</a> for details.  The original lists of patterns and exceptions used by Liang for TeX 82 are shown on the <a href="/2009/04/24/word-hy-phen-a-tion-by-com-pu-ter/2/">next page</a>.</p>
<p>Your task is to write a function that takes an input word and returns a list of suitable hyphenation points.  When you are finished, you can <a href="/2009/04/24/word-hy-phen-a-tion-by-com-pu-ter/3/">read</a> or <a href="http://programmingpraxis.codepad.org/s0N597UX">run</a> a suggested solution, or post your solution or discuss the exercise in the comments below.</p>
<div id="wpcom_below_post" class="wpadvert" style="text-align: center; padding: 5px; background: #; padding: 5px; margin: 10px auto; width: 310px;">
<!-- <span style="text-align: left; letter-spacing: 1px; font: 8px/1em Verdana, sans-serif; color: #ccc; text-transform: uppercase; display: block; padding: 0 1px;">Advertisement</span> -->
<script type="text/javascript">
LD_AddCustomAttr("AdOpt", "1");
LD_AddCustomAttr("Origin", "other");
LD_AddCustomAttr("theme_bg", "ffffff"); 
LD_AddCustomAttr("theme_text", "555555"); 
LD_AddCustomAttr("theme_link", "557799"); 
LD_AddCustomAttr("theme_border", "C8A799"); 
LD_AddCustomAttr("theme_url", "8FB1D3"); 
LD_AddCustomAttr("LangId", "1");
LD_AddCustomAttr("Autotag", "technology");
LD_AddCustomAttr("Autotag", "science");
LD_AddCustomAttr("Autotag", "education");
LD_AddCustomAttr("Tag", "exercises");

LD_AddSlot("wpcom_below_post");
LD_GetBids();
</script>
</div><div class="sharedaddy sd-like-enabled"><div id="wpl-likebox" class="sd-block sd-like"><h3 class="sd-title">Like this:</h3><div class="sd-content"><div id="wpl-button"><a href="http://programmingpraxis.com/2009/04/24/word-hy-phen-a-tion-by-com-pu-ter/?like=1&amp;_wpnonce=a72c2c6ab5" title="I like this post" class="like needs-login sd-button" rel="nofollow"><span>Like</span></a></div><div id="wpl-count" class="sd-like-count">Be the first to like this post.</div></div></div></div> <p>Pages: 1 <a href="http://programmingpraxis.com/2009/04/24/word-hy-phen-a-tion-by-com-pu-ter/2/">2</a> <a href="http://programmingpraxis.com/2009/04/24/word-hy-phen-a-tion-by-com-pu-ter/3/">3</a></p> </div></div>
</body>
</html>
